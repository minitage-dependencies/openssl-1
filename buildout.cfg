################################################################################
# MINITAGE LIBRARY PROJECT BUILDOUT
################################################################################
[buildout]
hooks-directory = ${buildout:directory}/hooks
eggs-directory=../../eggs/cache
develop-eggs-directory=../../eggs/develop-eggs
parts = part cacerts
[versions]
[zlib]
location=${buildout:directory}/../zlib-1.2/parts/part
include=${buildout:directory}/../zlib-1.2/parts/part/include
lib=${buildout:directory}/../zlib-1.2/parts/part/lib
[ncurses]
location=${buildout:directory}/../ncurses-5/parts/part
include=${buildout:directory}/../ncurses-5/parts/part/include
lib=${buildout:directory}/../ncurses-5/parts/part/lib
[flags]
ldflags="-L${zlib:lib} -Wl,-rpath -Wl,${zlib:lib} -L${ncurses:lib} -Wl,-rpath -Wl,${ncurses:lib} -Wl,-rpath -Wl,${buildout:directory}/parts/part/lib"
ldrun="${zlib:lib}:${buildout:directory}/part/lib:${ncurses:lib}"
cflags="-I${zlib:include} -I${ncurses:include} -I${ncurses:include}/ncurses"

[part]
name = part
recipe = minitage.recipe.cmmi
url = http://openssl.org/source/openssl-1.0.1e.tar.gz
md5sum =  66bf6f10f060d561929de96f9dfe5b8c


configure = config
configure-snowleopard = Configure
configure-options =--openssldir=${buildout:directory}/etc shared ${flags:cflags} ${flags:ldflags} no-fips
configure-options-leopard=-mmacosx-version-min=10.5.0
configure-options-snowleopard=-mmacosx-version-min=10.6.0 darwin64-x86_64-cc
install-in-place=true
pre-make-hook = ${buildout:hooks-directory}/setenv.py:patchopenssl

[cacerts]
recipe=plone.recipe.command
update-command=${cacerts:command}
command=${buildout:directory}/update-ca-certificates


